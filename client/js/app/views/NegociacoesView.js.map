{"version":3,"sources":["../../app-es6/views/NegociacoesView.js"],"names":["DateHelper","View","currentInstance","NegociacoesView","elemento","addEventListener","event","target","nodeName","ordena","id","model","cols","_retornaCabecalho","negociacoes","map","dataParaTexto","n","data","quantidade","valor","volume","join","volumeTotal","coluna","toUpperCase","colunaOrdena","colunaDesc"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,gB,sBAAAA,U;;AACAC,U,UAAAA,I;;AACAC,qB,oCAAAA,e;;;;;;;;;;;;;;;;;;;;;iCAEIC,e;;;AAEX,iCAAYC,QAAZ,EAAsB;AAAA;;AAAA,wIACdA,QADc;;AAGpBA,mBAASC,gBAAT,CAA0B,OAA1B,EAAmC,UAAUC,KAAV,EAAiB;;AAElD,gBAAIA,MAAMC,MAAN,CAAaC,QAAb,IAAyB,IAA7B,EAAmC;AACjCN,gCAAkBO,MAAlB,CAAyBH,MAAMC,MAAN,CAAaG,EAAtC;AACD;AACF,WALD;;AAHoB;AAUrB;;;;mCAEQC,K,EAAO;;AAEd,gBAAMC,OAAO,CAAC,MAAD,EAAS,YAAT,EAAuB,OAAvB,EAAgC,QAAhC,CAAb;;AAEA,sIAIiBA,KAAK,CAAL,CAJjB,SAI4B,KAAKC,iBAAL,CAAuBD,KAAK,CAAL,CAAvB,EAAgCD,KAAhC,CAJ5B,kCAKiBC,KAAK,CAAL,CALjB,SAK4B,KAAKC,iBAAL,CAAuBD,KAAK,CAAL,CAAvB,EAAgCD,KAAhC,CAL5B,kCAMiBC,KAAK,CAAL,CANjB,SAM4B,KAAKC,iBAAL,CAAuBD,KAAK,CAAL,CAAvB,EAAgCD,KAAhC,CAN5B,kCAOiBC,KAAK,CAAL,CAPjB,SAO4B,KAAKC,iBAAL,CAAuBD,KAAK,CAAL,CAAvB,EAAgCD,KAAhC,CAP5B,qFAYQA,MAAMG,WAAN,CAAkBC,GAAlB,CAAsB;AAAA,8EAGdf,WAAWgB,aAAX,CAAyBC,EAAEC,IAA3B,CAHc,iCAIdD,EAAEE,UAJY,iCAKdF,EAAEG,KALY,iCAMdH,EAAEI,MANY;AAAA,aAAtB,EASCC,IATD,CASM,EATN,CAZR,0IA2BUX,MAAMY,WA3BhB;AAiCD;;;4CAEiBC,M,EAAQb,K,EAAO;AAC/B,mBAAUa,OAAOC,WAAP,EAAV,UAAkCd,MAAMe,YAAN,IAAsBF,MAAtB,GAAgCb,MAAMgB,UAAN,GAAmB,MAAnB,GAA4B,OAA5D,GAAuE,EAAzG;AACD;;;;QAvDkC1B,I","file":"NegociacoesView.js","sourcesContent":["import { DateHelper } from '../helpers/DateHelper';\nimport { View } from './View';\nimport { currentInstance } from '../controllers/NegociacaoController';\n\nexport class NegociacoesView extends View {\n\n  constructor(elemento) {\n    super(elemento);\n\n    elemento.addEventListener('click', function (event) {\n\n      if (event.target.nodeName == 'TH') {\n        currentInstance().ordena(event.target.id);\n      }\n    });\n\n  }\n\n  template(model) {\n\n    const cols = ['data', 'quantidade', 'valor', 'volume'];\n\n    return `\n      <table class=\"table table-hover table-bordered\">\n        <thead>\n          <tr>\n            <th id=${cols[0]}>${this._retornaCabecalho(cols[0], model)}</th>\n            <th id=${cols[1]}>${this._retornaCabecalho(cols[1], model)}</th>\n            <th id=${cols[2]}>${this._retornaCabecalho(cols[2], model)}</th>\n            <th id=${cols[3]}>${this._retornaCabecalho(cols[3], model)}</th>\n          </tr>\n        </thead>\n      \n        <tbody>\n          ${model.negociacoes.map(n => `\n            \n            <tr>\n              <td>${DateHelper.dataParaTexto(n.data)}</td>\n              <td>${n.quantidade}</td>\n              <td>${n.valor}</td>\n              <td>${n.volume}</td>\n            </tr>\n            \n          `).join('')}                \n        </tbody>\n              \n        <tfoot>\n          <td colspan=\"3\"></td>\n          <td>\n            ${model.volumeTotal}\n          </td>\n        </tfoot>\n          \n      </table>\n      `;\n  }\n\n  _retornaCabecalho(coluna, model) {\n    return `${coluna.toUpperCase()} ${model.colunaOrdena == coluna ? (model.colunaDesc ? '&or;' : '&and;') : ''}`;\n  }\n\n}"]}